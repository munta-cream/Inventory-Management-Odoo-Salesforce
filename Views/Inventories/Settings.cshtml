@model Inventory_Management_Requirements.Models.Inventory

@{
    ViewData["Title"] = "Inventory Settings";
}

<div class="container mt-4">
    <div class="row">
        <div class="col-md-8 offset-md-2">
            <div class="card">
                <div class="card-header">
                    <h4>Inventory Settings</h4>
                    <small class="text-muted">Configure settings for this inventory</small>
                </div>
                <div class="card-body">
                    <form id="inventorySettingsForm" asp-action="UpdateSettings" asp-controller="Inventories" method="post">
                        @Html.AntiForgeryToken()
                        <input type="hidden" name="Id" value="@Model.Id" />

                        <div class="form-group">
                            <label for="title">Title</label>
                            <input type="text" class="form-control" id="title" name="Title" value="@Model.Title" required />
                        </div>

                        <div class="form-group">
                            <label for="description">Description</label>
                            <textarea class="form-control" id="description" name="Description" rows="4">@Model.Description</textarea>
                        </div>

                        <div class="form-group">
                            <label for="categoryId">Category</label>
                            <select class="form-control" id="categoryId" name="CategoryId">
                                @if (ViewData["Categories"] is List<Inventory_Management_Requirements.Models.Category> categories && categories != null)
                                {
                                    @foreach (var category in categories)
                                    {
                                        <option value="@category.Id" selected="@(category.Id == Model.CategoryId)">@category.Name</option>
                                    }
                                }
                                else
                                {
                                    <option disabled>No categories available</option>
                                }
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="isPublic">Visibility</label>
                            <div class="form-check">
                                <input type="hidden" name="IsPublic" value="false" />
                                <input class="form-check-input" type="checkbox" id="isPublic" name="IsPublic" value="true" @(Model.IsPublic ? "checked" : "") />
                                <label class="form-check-label" for="isPublic">
                                    Public (Anyone can view)
                                </label>
                            </div>
                        </div>

                        <div class="form-group mt-4">
                            <button type="submit" class="btn btn-primary">Save Settings</button>
                            <a href="@Url.Action("Details", "Inventories", new { id = Model.Id })" class="btn btn-secondary ml-2">Back to Inventory</a>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
